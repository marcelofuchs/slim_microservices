[2018-09-14 13:58:12] books-microservice.INFO: Start handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-14 13:59:06] books-microservice.INFO: Start handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-14 13:59:06] books-microservice.ERROR: An error occurred while trying to handling a command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"},"error":"Argument 1 passed to Infrastructure\\Persistence\\Doctrine\\Repositories\\AbstractRepository::save() must implement interface Domain\\Contracts\\Entities\\EntityInterface, instance of Application\\Books\\Commands\\BookCreate given, called in /var/www/html/Domain/Abstractions/AbstractDomainService.php on line 131","exception_class":"TypeError","trace":"#0 /var/www/html/Domain/Abstractions/AbstractDomainService.php(131): Infrastructure\\Persistence\\Doctrine\\Repositories\\AbstractRepository->save(Object(Application\\Books\\Commands\\BookCreate))\n#1 /var/www/html/Application/Books/Handlers/BookHandler.php(37): Domain\\Abstractions\\AbstractDomainService->save(Object(Application\\Books\\Commands\\BookCreate))\n#2 /var/www/html/Infrastructure/Container/ServiceBus/SimpleCommandHandler.php(28): Application\\Books\\Handlers\\BookHandler->handleBookCreate(Object(Application\\Books\\Commands\\BookCreate))\n#3 /var/www/html/vendor/broadway/broadway/src/Broadway/CommandHandling/SimpleCommandBus.php(46): Infrastructure\\Container\\ServiceBus\\SimpleCommandHandler->handle(Object(Application\\Books\\Commands\\BookCreate))\n#4 /var/www/html/Infrastructure/Container/ServiceBus/Adapter/BroadwayCommandBus.php(36): Broadway\\CommandHandling\\SimpleCommandBus->dispatch(Object(Application\\Books\\Commands\\BookCreate))\n#5 /var/www/html/Infrastructure/Container/ServiceBus/Adapter/BroadwayCommandBusMiddleware.php(19): Infrastructure\\Container\\ServiceBus\\Adapter\\BroadwayCommandBus->dispatch(Object(Application\\Books\\Commands\\BookCreate))\n#6 /var/www/html/Infrastructure/Container/ServiceBus/CommandBus/CommandBusSupportingMiddleware.php(81): Infrastructure\\Container\\ServiceBus\\Adapter\\BroadwayCommandBusMiddleware->handle(Object(Application\\Books\\Commands\\BookCreate), Object(Closure))\n#7 /var/www/html/Infrastructure/Container/Middleware/LogCommandsMiddleware.php(31): Infrastructure\\Container\\ServiceBus\\CommandBus\\CommandBusSupportingMiddleware->Infrastructure\\Container\\ServiceBus\\CommandBus\\{closure}(Object(Application\\Books\\Commands\\BookCreate))\n#8 /var/www/html/Infrastructure/Container/ServiceBus/CommandBus/CommandBusSupportingMiddleware.php(81): Infrastructure\\Container\\Middleware\\LogCommandsMiddleware->handle(Object(Application\\Books\\Commands\\BookCreate), Object(Closure))\n#9 [internal function]: Infrastructure\\Container\\ServiceBus\\CommandBus\\CommandBusSupportingMiddleware->Infrastructure\\Container\\ServiceBus\\CommandBus\\{closure}(Object(Application\\Books\\Commands\\BookCreate))\n#10 /var/www/html/Infrastructure/Container/ServiceBus/CommandBus/CommandBusSupportingMiddleware.php(65): call_user_func(Object(Closure), Object(Application\\Books\\Commands\\BookCreate))\n#11 /var/www/html/Application/Books/Http/Actions/BookCreate.php(29): Infrastructure\\Container\\ServiceBus\\CommandBus\\CommandBusSupportingMiddleware->dispatch(Object(Application\\Books\\Commands\\BookCreate))\n#12 /var/www/html/Infrastructure/Container/Factory/Actions/BaseActionFactory.php(52): Application\\Books\\Http\\Actions\\BookCreate->process(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Array)\n#13 [internal function]: Infrastructure\\Container\\Factory\\Actions\\BaseActionFactory->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Array)\n#14 /var/www/html/vendor/slim/slim/Slim/Handlers/Strategies/RequestResponse.php(41): call_user_func(Array, Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Array)\n#15 /var/www/html/vendor/slim/slim/Slim/Route.php(335): Slim\\Handlers\\Strategies\\RequestResponse->__invoke(Array, Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Array)\n#16 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(117): Slim\\Route->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#17 /var/www/html/vendor/slim/slim/Slim/Route.php(313): Slim\\Route->callMiddlewareStack(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#18 /var/www/html/vendor/slim/slim/Slim/App.php(513): Slim\\Route->run(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#19 /var/www/html/vendor/oscarotero/psr7-middlewares/src/Middleware/TrailingSlash.php(63): Slim\\App->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#20 [internal function]: Psr7Middlewares\\Middleware\\TrailingSlash->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Slim\\App))\n#21 /var/www/html/vendor/slim/slim/Slim/DeferredCallable.php(43): call_user_func_array(Object(Psr7Middlewares\\Middleware\\TrailingSlash), Array)\n#22 [internal function]: Slim\\DeferredCallable->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Slim\\App))\n#23 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(70): call_user_func(Object(Slim\\DeferredCallable), Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Slim\\App))\n#24 /var/www/html/vendor/tuupola/slim-basic-auth/src/HttpBasicAuthentication.php(87): Slim\\App->Slim\\{closure}(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#25 [internal function]: Slim\\Middleware\\HttpBasicAuthentication->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#26 /var/www/html/vendor/slim/slim/Slim/DeferredCallable.php(43): call_user_func_array(Object(Slim\\Middleware\\HttpBasicAuthentication), Array)\n#27 [internal function]: Slim\\DeferredCallable->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#28 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(70): call_user_func(Object(Slim\\DeferredCallable), Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#29 /var/www/html/vendor/tuupola/slim-jwt-auth/src/JwtAuthentication.php(145): Slim\\App->Slim\\{closure}(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#30 [internal function]: Slim\\Middleware\\JwtAuthentication->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#31 /var/www/html/vendor/slim/slim/Slim/DeferredCallable.php(43): call_user_func_array(Object(Slim\\Middleware\\JwtAuthentication), Array)\n#32 [internal function]: Slim\\DeferredCallable->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#33 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(70): call_user_func(Object(Slim\\DeferredCallable), Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#34 /var/www/html/vendor/akrabat/rka-scheme-and-host-detection-middleware/src/SchemeAndHost.php(54): Slim\\App->Slim\\{closure}(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#35 [internal function]: RKA\\Middleware\\SchemeAndHost->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#36 /var/www/html/vendor/slim/slim/Slim/DeferredCallable.php(43): call_user_func_array(Object(RKA\\Middleware\\SchemeAndHost), Array)\n#37 [internal function]: Slim\\DeferredCallable->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#38 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(70): call_user_func(Object(Slim\\DeferredCallable), Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#39 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(117): Slim\\App->Slim\\{closure}(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#40 /var/www/html/vendor/slim/slim/Slim/App.php(406): Slim\\App->callMiddlewareStack(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#41 /var/www/html/vendor/slim/slim/Slim/App.php(314): Slim\\App->process(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#42 /var/www/html/Application/Books/Http/public/index.php(13): Slim\\App->run()\n#43 {main}"} []
