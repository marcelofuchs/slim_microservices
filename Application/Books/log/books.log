[2018-09-14 13:58:12] books-microservice.INFO: Start handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-14 13:59:06] books-microservice.INFO: Start handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-14 13:59:06] books-microservice.ERROR: An error occurred while trying to handling a command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"},"error":"Argument 1 passed to Infrastructure\\Persistence\\Doctrine\\Repositories\\AbstractRepository::save() must implement interface Domain\\Contracts\\Entities\\EntityInterface, instance of Application\\Books\\Commands\\BookCreate given, called in /var/www/html/Domain/Abstractions/AbstractDomainService.php on line 131","exception_class":"TypeError","trace":"#0 /var/www/html/Domain/Abstractions/AbstractDomainService.php(131): Infrastructure\\Persistence\\Doctrine\\Repositories\\AbstractRepository->save(Object(Application\\Books\\Commands\\BookCreate))\n#1 /var/www/html/Application/Books/Handlers/BookHandler.php(37): Domain\\Abstractions\\AbstractDomainService->save(Object(Application\\Books\\Commands\\BookCreate))\n#2 /var/www/html/Infrastructure/Container/ServiceBus/SimpleCommandHandler.php(28): Application\\Books\\Handlers\\BookHandler->handleBookCreate(Object(Application\\Books\\Commands\\BookCreate))\n#3 /var/www/html/vendor/broadway/broadway/src/Broadway/CommandHandling/SimpleCommandBus.php(46): Infrastructure\\Container\\ServiceBus\\SimpleCommandHandler->handle(Object(Application\\Books\\Commands\\BookCreate))\n#4 /var/www/html/Infrastructure/Container/ServiceBus/Adapter/BroadwayCommandBus.php(36): Broadway\\CommandHandling\\SimpleCommandBus->dispatch(Object(Application\\Books\\Commands\\BookCreate))\n#5 /var/www/html/Infrastructure/Container/ServiceBus/Adapter/BroadwayCommandBusMiddleware.php(19): Infrastructure\\Container\\ServiceBus\\Adapter\\BroadwayCommandBus->dispatch(Object(Application\\Books\\Commands\\BookCreate))\n#6 /var/www/html/Infrastructure/Container/ServiceBus/CommandBus/CommandBusSupportingMiddleware.php(81): Infrastructure\\Container\\ServiceBus\\Adapter\\BroadwayCommandBusMiddleware->handle(Object(Application\\Books\\Commands\\BookCreate), Object(Closure))\n#7 /var/www/html/Infrastructure/Container/Middleware/LogCommandsMiddleware.php(31): Infrastructure\\Container\\ServiceBus\\CommandBus\\CommandBusSupportingMiddleware->Infrastructure\\Container\\ServiceBus\\CommandBus\\{closure}(Object(Application\\Books\\Commands\\BookCreate))\n#8 /var/www/html/Infrastructure/Container/ServiceBus/CommandBus/CommandBusSupportingMiddleware.php(81): Infrastructure\\Container\\Middleware\\LogCommandsMiddleware->handle(Object(Application\\Books\\Commands\\BookCreate), Object(Closure))\n#9 [internal function]: Infrastructure\\Container\\ServiceBus\\CommandBus\\CommandBusSupportingMiddleware->Infrastructure\\Container\\ServiceBus\\CommandBus\\{closure}(Object(Application\\Books\\Commands\\BookCreate))\n#10 /var/www/html/Infrastructure/Container/ServiceBus/CommandBus/CommandBusSupportingMiddleware.php(65): call_user_func(Object(Closure), Object(Application\\Books\\Commands\\BookCreate))\n#11 /var/www/html/Application/Books/Http/Actions/BookCreate.php(29): Infrastructure\\Container\\ServiceBus\\CommandBus\\CommandBusSupportingMiddleware->dispatch(Object(Application\\Books\\Commands\\BookCreate))\n#12 /var/www/html/Infrastructure/Container/Factory/Actions/BaseActionFactory.php(52): Application\\Books\\Http\\Actions\\BookCreate->process(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Array)\n#13 [internal function]: Infrastructure\\Container\\Factory\\Actions\\BaseActionFactory->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Array)\n#14 /var/www/html/vendor/slim/slim/Slim/Handlers/Strategies/RequestResponse.php(41): call_user_func(Array, Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Array)\n#15 /var/www/html/vendor/slim/slim/Slim/Route.php(335): Slim\\Handlers\\Strategies\\RequestResponse->__invoke(Array, Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Array)\n#16 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(117): Slim\\Route->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#17 /var/www/html/vendor/slim/slim/Slim/Route.php(313): Slim\\Route->callMiddlewareStack(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#18 /var/www/html/vendor/slim/slim/Slim/App.php(513): Slim\\Route->run(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#19 /var/www/html/vendor/oscarotero/psr7-middlewares/src/Middleware/TrailingSlash.php(63): Slim\\App->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#20 [internal function]: Psr7Middlewares\\Middleware\\TrailingSlash->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Slim\\App))\n#21 /var/www/html/vendor/slim/slim/Slim/DeferredCallable.php(43): call_user_func_array(Object(Psr7Middlewares\\Middleware\\TrailingSlash), Array)\n#22 [internal function]: Slim\\DeferredCallable->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Slim\\App))\n#23 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(70): call_user_func(Object(Slim\\DeferredCallable), Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Slim\\App))\n#24 /var/www/html/vendor/tuupola/slim-basic-auth/src/HttpBasicAuthentication.php(87): Slim\\App->Slim\\{closure}(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#25 [internal function]: Slim\\Middleware\\HttpBasicAuthentication->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#26 /var/www/html/vendor/slim/slim/Slim/DeferredCallable.php(43): call_user_func_array(Object(Slim\\Middleware\\HttpBasicAuthentication), Array)\n#27 [internal function]: Slim\\DeferredCallable->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#28 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(70): call_user_func(Object(Slim\\DeferredCallable), Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#29 /var/www/html/vendor/tuupola/slim-jwt-auth/src/JwtAuthentication.php(145): Slim\\App->Slim\\{closure}(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#30 [internal function]: Slim\\Middleware\\JwtAuthentication->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#31 /var/www/html/vendor/slim/slim/Slim/DeferredCallable.php(43): call_user_func_array(Object(Slim\\Middleware\\JwtAuthentication), Array)\n#32 [internal function]: Slim\\DeferredCallable->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#33 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(70): call_user_func(Object(Slim\\DeferredCallable), Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#34 /var/www/html/vendor/akrabat/rka-scheme-and-host-detection-middleware/src/SchemeAndHost.php(54): Slim\\App->Slim\\{closure}(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#35 [internal function]: RKA\\Middleware\\SchemeAndHost->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#36 /var/www/html/vendor/slim/slim/Slim/DeferredCallable.php(43): call_user_func_array(Object(RKA\\Middleware\\SchemeAndHost), Array)\n#37 [internal function]: Slim\\DeferredCallable->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#38 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(70): call_user_func(Object(Slim\\DeferredCallable), Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#39 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(117): Slim\\App->Slim\\{closure}(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#40 /var/www/html/vendor/slim/slim/Slim/App.php(406): Slim\\App->callMiddlewareStack(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#41 /var/www/html/vendor/slim/slim/Slim/App.php(314): Slim\\App->process(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#42 /var/www/html/Application/Books/Http/public/index.php(13): Slim\\App->run()\n#43 {main}"} []
[2018-09-14 14:29:20] books-microservice.INFO: Start handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-14 14:29:20] books-microservice.ERROR: An error occurred while trying to handling a command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"},"error":"Argument 1 passed to Infrastructure\\Persistence\\Doctrine\\Repositories\\AbstractRepository::save() must implement interface Domain\\Contracts\\Entities\\EntityInterface, instance of Application\\Books\\Commands\\BookCreate given, called in /var/www/html/Domain/Abstractions/AbstractDomainService.php on line 132","exception_class":"TypeError","trace":"#0 /var/www/html/Domain/Abstractions/AbstractDomainService.php(132): Infrastructure\\Persistence\\Doctrine\\Repositories\\AbstractRepository->save(Object(Application\\Books\\Commands\\BookCreate))\n#1 /var/www/html/Application/Books/Handlers/BookHandler.php(37): Domain\\Abstractions\\AbstractDomainService->save(Object(Application\\Books\\Commands\\BookCreate))\n#2 /var/www/html/Infrastructure/Container/ServiceBus/SimpleCommandHandler.php(28): Application\\Books\\Handlers\\BookHandler->handleBookCreate(Object(Application\\Books\\Commands\\BookCreate))\n#3 /var/www/html/vendor/broadway/broadway/src/Broadway/CommandHandling/SimpleCommandBus.php(46): Infrastructure\\Container\\ServiceBus\\SimpleCommandHandler->handle(Object(Application\\Books\\Commands\\BookCreate))\n#4 /var/www/html/Infrastructure/Container/ServiceBus/Adapter/BroadwayCommandBus.php(36): Broadway\\CommandHandling\\SimpleCommandBus->dispatch(Object(Application\\Books\\Commands\\BookCreate))\n#5 /var/www/html/Infrastructure/Container/ServiceBus/Adapter/BroadwayCommandBusMiddleware.php(19): Infrastructure\\Container\\ServiceBus\\Adapter\\BroadwayCommandBus->dispatch(Object(Application\\Books\\Commands\\BookCreate))\n#6 /var/www/html/Infrastructure/Container/ServiceBus/CommandBus/CommandBusSupportingMiddleware.php(81): Infrastructure\\Container\\ServiceBus\\Adapter\\BroadwayCommandBusMiddleware->handle(Object(Application\\Books\\Commands\\BookCreate), Object(Closure))\n#7 /var/www/html/Infrastructure/Container/Middleware/LogCommandsMiddleware.php(31): Infrastructure\\Container\\ServiceBus\\CommandBus\\CommandBusSupportingMiddleware->Infrastructure\\Container\\ServiceBus\\CommandBus\\{closure}(Object(Application\\Books\\Commands\\BookCreate))\n#8 /var/www/html/Infrastructure/Container/ServiceBus/CommandBus/CommandBusSupportingMiddleware.php(81): Infrastructure\\Container\\Middleware\\LogCommandsMiddleware->handle(Object(Application\\Books\\Commands\\BookCreate), Object(Closure))\n#9 [internal function]: Infrastructure\\Container\\ServiceBus\\CommandBus\\CommandBusSupportingMiddleware->Infrastructure\\Container\\ServiceBus\\CommandBus\\{closure}(Object(Application\\Books\\Commands\\BookCreate))\n#10 /var/www/html/Infrastructure/Container/ServiceBus/CommandBus/CommandBusSupportingMiddleware.php(65): call_user_func(Object(Closure), Object(Application\\Books\\Commands\\BookCreate))\n#11 /var/www/html/Application/Books/Http/Actions/BookCreate.php(29): Infrastructure\\Container\\ServiceBus\\CommandBus\\CommandBusSupportingMiddleware->dispatch(Object(Application\\Books\\Commands\\BookCreate))\n#12 /var/www/html/Infrastructure/Container/Factory/Actions/BaseActionFactory.php(52): Application\\Books\\Http\\Actions\\BookCreate->process(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Array)\n#13 [internal function]: Infrastructure\\Container\\Factory\\Actions\\BaseActionFactory->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Array)\n#14 /var/www/html/vendor/slim/slim/Slim/Handlers/Strategies/RequestResponse.php(41): call_user_func(Array, Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Array)\n#15 /var/www/html/vendor/slim/slim/Slim/Route.php(335): Slim\\Handlers\\Strategies\\RequestResponse->__invoke(Array, Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Array)\n#16 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(117): Slim\\Route->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#17 /var/www/html/vendor/slim/slim/Slim/Route.php(313): Slim\\Route->callMiddlewareStack(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#18 /var/www/html/vendor/slim/slim/Slim/App.php(513): Slim\\Route->run(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#19 /var/www/html/vendor/oscarotero/psr7-middlewares/src/Middleware/TrailingSlash.php(63): Slim\\App->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#20 [internal function]: Psr7Middlewares\\Middleware\\TrailingSlash->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Slim\\App))\n#21 /var/www/html/vendor/slim/slim/Slim/DeferredCallable.php(43): call_user_func_array(Object(Psr7Middlewares\\Middleware\\TrailingSlash), Array)\n#22 [internal function]: Slim\\DeferredCallable->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Slim\\App))\n#23 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(70): call_user_func(Object(Slim\\DeferredCallable), Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Slim\\App))\n#24 /var/www/html/vendor/tuupola/slim-basic-auth/src/HttpBasicAuthentication.php(87): Slim\\App->Slim\\{closure}(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#25 [internal function]: Slim\\Middleware\\HttpBasicAuthentication->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#26 /var/www/html/vendor/slim/slim/Slim/DeferredCallable.php(43): call_user_func_array(Object(Slim\\Middleware\\HttpBasicAuthentication), Array)\n#27 [internal function]: Slim\\DeferredCallable->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#28 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(70): call_user_func(Object(Slim\\DeferredCallable), Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#29 /var/www/html/vendor/tuupola/slim-jwt-auth/src/JwtAuthentication.php(145): Slim\\App->Slim\\{closure}(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#30 [internal function]: Slim\\Middleware\\JwtAuthentication->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#31 /var/www/html/vendor/slim/slim/Slim/DeferredCallable.php(43): call_user_func_array(Object(Slim\\Middleware\\JwtAuthentication), Array)\n#32 [internal function]: Slim\\DeferredCallable->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#33 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(70): call_user_func(Object(Slim\\DeferredCallable), Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#34 /var/www/html/vendor/akrabat/rka-scheme-and-host-detection-middleware/src/SchemeAndHost.php(54): Slim\\App->Slim\\{closure}(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#35 [internal function]: RKA\\Middleware\\SchemeAndHost->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#36 /var/www/html/vendor/slim/slim/Slim/DeferredCallable.php(43): call_user_func_array(Object(RKA\\Middleware\\SchemeAndHost), Array)\n#37 [internal function]: Slim\\DeferredCallable->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#38 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(70): call_user_func(Object(Slim\\DeferredCallable), Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#39 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(117): Slim\\App->Slim\\{closure}(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#40 /var/www/html/vendor/slim/slim/Slim/App.php(406): Slim\\App->callMiddlewareStack(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#41 /var/www/html/vendor/slim/slim/Slim/App.php(314): Slim\\App->process(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#42 /var/www/html/Application/Books/Http/public/index.php(13): Slim\\App->run()\n#43 {main}"} []
[2018-09-14 18:17:08] books-microservice.INFO: Start handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-14 18:17:08] books-microservice.ERROR: An error occurred while trying to handling a command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"},"error":"An exception occurred while executing 'SELECT NEXTVAL('book_id_seq')':\n\nSQLSTATE[42P01]: Undefined table: 7 ERROR:  relation \"book_id_seq\" does not exist\nLINE 1: SELECT NEXTVAL('book_id_seq')\n                       ^","exception_class":"Doctrine\\DBAL\\Exception\\TableNotFoundException","trace":"#0 /var/www/html/vendor/doctrine/dbal/lib/Doctrine/DBAL/DBALException.php(184): Doctrine\\DBAL\\Driver\\AbstractPostgreSQLDriver->convertException('An exception oc...', Object(Doctrine\\DBAL\\Driver\\PDOException))\n#1 /var/www/html/vendor/doctrine/dbal/lib/Doctrine/DBAL/DBALException.php(158): Doctrine\\DBAL\\DBALException::wrapException(Object(Doctrine\\DBAL\\Driver\\PDOPgSql\\Driver), Object(Doctrine\\DBAL\\Driver\\PDOException), 'An exception oc...')\n#2 /var/www/html/vendor/doctrine/dbal/lib/Doctrine/DBAL/Connection.php(1042): Doctrine\\DBAL\\DBALException::driverExceptionDuringQuery(Object(Doctrine\\DBAL\\Driver\\PDOPgSql\\Driver), Object(Doctrine\\DBAL\\Driver\\PDOException), 'SELECT NEXTVAL(...')\n#3 /var/www/html/vendor/doctrine/orm/lib/Doctrine/ORM/Id/SequenceGenerator.php(80): Doctrine\\DBAL\\Connection->query('SELECT NEXTVAL(...')\n#4 /var/www/html/vendor/doctrine/orm/lib/Doctrine/ORM/UnitOfWork.php(935): Doctrine\\ORM\\Id\\SequenceGenerator->generate(Object(Doctrine\\ORM\\EntityManager), Object(Domain\\Entities\\Book))\n#5 /var/www/html/vendor/doctrine/orm/lib/Doctrine/ORM/UnitOfWork.php(1766): Doctrine\\ORM\\UnitOfWork->persistNew(Object(Doctrine\\ORM\\Mapping\\ClassMetadata), Object(Domain\\Entities\\Book))\n#6 /var/www/html/vendor/doctrine/orm/lib/Doctrine/ORM/UnitOfWork.php(1722): Doctrine\\ORM\\UnitOfWork->doPersist(Object(Domain\\Entities\\Book), Array)\n#7 /var/www/html/vendor/doctrine/orm/lib/Doctrine/ORM/EntityManager.php(591): Doctrine\\ORM\\UnitOfWork->persist(Object(Domain\\Entities\\Book))\n#8 /var/www/html/Infrastructure/Persistence/Doctrine/Repositories/AbstractRepository.php(309): Doctrine\\ORM\\EntityManager->persist(Object(Domain\\Entities\\Book))\n#9 /var/www/html/Domain/Services/BooksService.php(34): Infrastructure\\Persistence\\Doctrine\\Repositories\\AbstractRepository->save(Object(Domain\\Entities\\Book))\n#10 /var/www/html/Application/Books/Handlers/BookHandler.php(37): Domain\\Services\\BooksService->save(Object(Application\\Books\\Commands\\BookCreate))\n#11 /var/www/html/Infrastructure/Container/ServiceBus/SimpleCommandHandler.php(28): Application\\Books\\Handlers\\BookHandler->handleBookCreate(Object(Application\\Books\\Commands\\BookCreate))\n#12 /var/www/html/vendor/broadway/broadway/src/Broadway/CommandHandling/SimpleCommandBus.php(46): Infrastructure\\Container\\ServiceBus\\SimpleCommandHandler->handle(Object(Application\\Books\\Commands\\BookCreate))\n#13 /var/www/html/Infrastructure/Container/ServiceBus/Adapter/BroadwayCommandBus.php(36): Broadway\\CommandHandling\\SimpleCommandBus->dispatch(Object(Application\\Books\\Commands\\BookCreate))\n#14 /var/www/html/Infrastructure/Container/ServiceBus/Adapter/BroadwayCommandBusMiddleware.php(19): Infrastructure\\Container\\ServiceBus\\Adapter\\BroadwayCommandBus->dispatch(Object(Application\\Books\\Commands\\BookCreate))\n#15 /var/www/html/Infrastructure/Container/ServiceBus/CommandBus/CommandBusSupportingMiddleware.php(81): Infrastructure\\Container\\ServiceBus\\Adapter\\BroadwayCommandBusMiddleware->handle(Object(Application\\Books\\Commands\\BookCreate), Object(Closure))\n#16 /var/www/html/Infrastructure/Container/Middleware/LogCommandsMiddleware.php(31): Infrastructure\\Container\\ServiceBus\\CommandBus\\CommandBusSupportingMiddleware->Infrastructure\\Container\\ServiceBus\\CommandBus\\{closure}(Object(Application\\Books\\Commands\\BookCreate))\n#17 /var/www/html/Infrastructure/Container/ServiceBus/CommandBus/CommandBusSupportingMiddleware.php(81): Infrastructure\\Container\\Middleware\\LogCommandsMiddleware->handle(Object(Application\\Books\\Commands\\BookCreate), Object(Closure))\n#18 [internal function]: Infrastructure\\Container\\ServiceBus\\CommandBus\\CommandBusSupportingMiddleware->Infrastructure\\Container\\ServiceBus\\CommandBus\\{closure}(Object(Application\\Books\\Commands\\BookCreate))\n#19 /var/www/html/Infrastructure/Container/ServiceBus/CommandBus/CommandBusSupportingMiddleware.php(65): call_user_func(Object(Closure), Object(Application\\Books\\Commands\\BookCreate))\n#20 /var/www/html/Application/Books/Http/Actions/BookCreate.php(29): Infrastructure\\Container\\ServiceBus\\CommandBus\\CommandBusSupportingMiddleware->dispatch(Object(Application\\Books\\Commands\\BookCreate))\n#21 /var/www/html/Infrastructure/Container/Factory/Actions/BaseActionFactory.php(52): Application\\Books\\Http\\Actions\\BookCreate->process(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Array)\n#22 [internal function]: Infrastructure\\Container\\Factory\\Actions\\BaseActionFactory->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Array)\n#23 /var/www/html/vendor/slim/slim/Slim/Handlers/Strategies/RequestResponse.php(41): call_user_func(Array, Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Array)\n#24 /var/www/html/vendor/slim/slim/Slim/Route.php(335): Slim\\Handlers\\Strategies\\RequestResponse->__invoke(Array, Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Array)\n#25 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(117): Slim\\Route->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#26 /var/www/html/vendor/slim/slim/Slim/Route.php(313): Slim\\Route->callMiddlewareStack(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#27 /var/www/html/vendor/slim/slim/Slim/App.php(513): Slim\\Route->run(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#28 /var/www/html/vendor/oscarotero/psr7-middlewares/src/Middleware/TrailingSlash.php(63): Slim\\App->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#29 [internal function]: Psr7Middlewares\\Middleware\\TrailingSlash->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Slim\\App))\n#30 /var/www/html/vendor/slim/slim/Slim/DeferredCallable.php(43): call_user_func_array(Object(Psr7Middlewares\\Middleware\\TrailingSlash), Array)\n#31 [internal function]: Slim\\DeferredCallable->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Slim\\App))\n#32 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(70): call_user_func(Object(Slim\\DeferredCallable), Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Slim\\App))\n#33 /var/www/html/vendor/tuupola/slim-basic-auth/src/HttpBasicAuthentication.php(87): Slim\\App->Slim\\{closure}(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#34 [internal function]: Slim\\Middleware\\HttpBasicAuthentication->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#35 /var/www/html/vendor/slim/slim/Slim/DeferredCallable.php(43): call_user_func_array(Object(Slim\\Middleware\\HttpBasicAuthentication), Array)\n#36 [internal function]: Slim\\DeferredCallable->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#37 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(70): call_user_func(Object(Slim\\DeferredCallable), Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#38 /var/www/html/vendor/tuupola/slim-jwt-auth/src/JwtAuthentication.php(145): Slim\\App->Slim\\{closure}(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#39 [internal function]: Slim\\Middleware\\JwtAuthentication->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#40 /var/www/html/vendor/slim/slim/Slim/DeferredCallable.php(43): call_user_func_array(Object(Slim\\Middleware\\JwtAuthentication), Array)\n#41 [internal function]: Slim\\DeferredCallable->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#42 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(70): call_user_func(Object(Slim\\DeferredCallable), Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#43 /var/www/html/vendor/akrabat/rka-scheme-and-host-detection-middleware/src/SchemeAndHost.php(54): Slim\\App->Slim\\{closure}(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#44 [internal function]: RKA\\Middleware\\SchemeAndHost->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#45 /var/www/html/vendor/slim/slim/Slim/DeferredCallable.php(43): call_user_func_array(Object(RKA\\Middleware\\SchemeAndHost), Array)\n#46 [internal function]: Slim\\DeferredCallable->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#47 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(70): call_user_func(Object(Slim\\DeferredCallable), Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#48 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(117): Slim\\App->Slim\\{closure}(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#49 /var/www/html/vendor/slim/slim/Slim/App.php(406): Slim\\App->callMiddlewareStack(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#50 /var/www/html/vendor/slim/slim/Slim/App.php(314): Slim\\App->process(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#51 /var/www/html/Application/Books/Http/public/index.php(13): Slim\\App->run()\n#52 {main}"} []
[2018-09-14 19:11:27] books-microservice.INFO: Start handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-14 19:11:27] books-microservice.INFO: Finish handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-14 19:37:24] books-microservice.INFO: Start handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-14 19:37:24] books-microservice.INFO: Finish handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-14 19:37:25] books-microservice.INFO: Start handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-14 19:37:25] books-microservice.INFO: Finish handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-14 19:37:26] books-microservice.INFO: Start handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-14 19:37:26] books-microservice.INFO: Finish handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-14 19:37:27] books-microservice.INFO: Start handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-14 19:37:27] books-microservice.INFO: Finish handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-14 19:37:27] books-microservice.INFO: Start handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-14 19:37:27] books-microservice.INFO: Finish handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-14 19:37:28] books-microservice.INFO: Start handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-14 19:37:28] books-microservice.INFO: Finish handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-17 13:58:15] books-microservice.INFO: Start handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-17 13:58:15] books-microservice.ERROR: An error occurred while trying to handling a command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"},"error":"An exception occurred while executing 'SELECT NEXTVAL('book_id_seq')':\n\nSQLSTATE[42P01]: Undefined table: 7 ERROR:  relation \"book_id_seq\" does not exist\nLINE 1: SELECT NEXTVAL('book_id_seq')\n                       ^","exception_class":"Doctrine\\DBAL\\Exception\\TableNotFoundException","trace":"#0 /var/www/html/vendor/doctrine/dbal/lib/Doctrine/DBAL/DBALException.php(184): Doctrine\\DBAL\\Driver\\AbstractPostgreSQLDriver->convertException('An exception oc...', Object(Doctrine\\DBAL\\Driver\\PDOException))\n#1 /var/www/html/vendor/doctrine/dbal/lib/Doctrine/DBAL/DBALException.php(158): Doctrine\\DBAL\\DBALException::wrapException(Object(Doctrine\\DBAL\\Driver\\PDOPgSql\\Driver), Object(Doctrine\\DBAL\\Driver\\PDOException), 'An exception oc...')\n#2 /var/www/html/vendor/doctrine/dbal/lib/Doctrine/DBAL/Connection.php(1042): Doctrine\\DBAL\\DBALException::driverExceptionDuringQuery(Object(Doctrine\\DBAL\\Driver\\PDOPgSql\\Driver), Object(Doctrine\\DBAL\\Driver\\PDOException), 'SELECT NEXTVAL(...')\n#3 /var/www/html/vendor/doctrine/orm/lib/Doctrine/ORM/Id/SequenceGenerator.php(80): Doctrine\\DBAL\\Connection->query('SELECT NEXTVAL(...')\n#4 /var/www/html/vendor/doctrine/orm/lib/Doctrine/ORM/UnitOfWork.php(935): Doctrine\\ORM\\Id\\SequenceGenerator->generate(Object(Doctrine\\ORM\\EntityManager), Object(Domain\\Entities\\Book))\n#5 /var/www/html/vendor/doctrine/orm/lib/Doctrine/ORM/UnitOfWork.php(1766): Doctrine\\ORM\\UnitOfWork->persistNew(Object(Doctrine\\ORM\\Mapping\\ClassMetadata), Object(Domain\\Entities\\Book))\n#6 /var/www/html/vendor/doctrine/orm/lib/Doctrine/ORM/UnitOfWork.php(1722): Doctrine\\ORM\\UnitOfWork->doPersist(Object(Domain\\Entities\\Book), Array)\n#7 /var/www/html/vendor/doctrine/orm/lib/Doctrine/ORM/EntityManager.php(591): Doctrine\\ORM\\UnitOfWork->persist(Object(Domain\\Entities\\Book))\n#8 /var/www/html/Infrastructure/Persistence/Doctrine/Repositories/AbstractRepository.php(309): Doctrine\\ORM\\EntityManager->persist(Object(Domain\\Entities\\Book))\n#9 /var/www/html/Domain/Services/BooksService.php(35): Infrastructure\\Persistence\\Doctrine\\Repositories\\AbstractRepository->save(Object(Domain\\Entities\\Book))\n#10 /var/www/html/Application/Books/Handlers/BookHandler.php(37): Domain\\Services\\BooksService->save(Object(Application\\Books\\Commands\\BookCreate))\n#11 /var/www/html/Infrastructure/Container/ServiceBus/SimpleCommandHandler.php(28): Application\\Books\\Handlers\\BookHandler->handleBookCreate(Object(Application\\Books\\Commands\\BookCreate))\n#12 /var/www/html/vendor/broadway/broadway/src/Broadway/CommandHandling/SimpleCommandBus.php(46): Infrastructure\\Container\\ServiceBus\\SimpleCommandHandler->handle(Object(Application\\Books\\Commands\\BookCreate))\n#13 /var/www/html/Infrastructure/Container/ServiceBus/Adapter/BroadwayCommandBus.php(36): Broadway\\CommandHandling\\SimpleCommandBus->dispatch(Object(Application\\Books\\Commands\\BookCreate))\n#14 /var/www/html/Infrastructure/Container/ServiceBus/Adapter/BroadwayCommandBusMiddleware.php(19): Infrastructure\\Container\\ServiceBus\\Adapter\\BroadwayCommandBus->dispatch(Object(Application\\Books\\Commands\\BookCreate))\n#15 /var/www/html/Infrastructure/Container/ServiceBus/CommandBus/CommandBusSupportingMiddleware.php(83): Infrastructure\\Container\\ServiceBus\\Adapter\\BroadwayCommandBusMiddleware->handle(Object(Application\\Books\\Commands\\BookCreate), Object(Closure))\n#16 /var/www/html/Infrastructure/Container/Middleware/LogCommandsMiddleware.php(31): Infrastructure\\Container\\ServiceBus\\CommandBus\\CommandBusSupportingMiddleware->Infrastructure\\Container\\ServiceBus\\CommandBus\\{closure}(Object(Application\\Books\\Commands\\BookCreate))\n#17 /var/www/html/Infrastructure/Container/ServiceBus/CommandBus/CommandBusSupportingMiddleware.php(83): Infrastructure\\Container\\Middleware\\LogCommandsMiddleware->handle(Object(Application\\Books\\Commands\\BookCreate), Object(Closure))\n#18 [internal function]: Infrastructure\\Container\\ServiceBus\\CommandBus\\CommandBusSupportingMiddleware->Infrastructure\\Container\\ServiceBus\\CommandBus\\{closure}(Object(Application\\Books\\Commands\\BookCreate))\n#19 /var/www/html/Infrastructure/Container/ServiceBus/CommandBus/CommandBusSupportingMiddleware.php(65): call_user_func(Object(Closure), Object(Application\\Books\\Commands\\BookCreate))\n#20 /var/www/html/Application/Books/Http/Actions/BookCreate.php(29): Infrastructure\\Container\\ServiceBus\\CommandBus\\CommandBusSupportingMiddleware->dispatch(Object(Application\\Books\\Commands\\BookCreate))\n#21 /var/www/html/Infrastructure/Container/Factory/Actions/BaseActionFactory.php(52): Application\\Books\\Http\\Actions\\BookCreate->process(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Array)\n#22 [internal function]: Infrastructure\\Container\\Factory\\Actions\\BaseActionFactory->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Array)\n#23 /var/www/html/vendor/slim/slim/Slim/Handlers/Strategies/RequestResponse.php(41): call_user_func(Array, Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Array)\n#24 /var/www/html/vendor/slim/slim/Slim/Route.php(335): Slim\\Handlers\\Strategies\\RequestResponse->__invoke(Array, Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Array)\n#25 /var/www/html/Infrastructure/Container/Middleware/JsonGuardMiddleware.php(44): Slim\\Route->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#26 [internal function]: Infrastructure\\Container\\Middleware\\JsonGuardMiddleware->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Slim\\Route))\n#27 /var/www/html/vendor/slim/slim/Slim/DeferredCallable.php(43): call_user_func_array(Object(Infrastructure\\Container\\Middleware\\JsonGuardMiddleware), Array)\n#28 [internal function]: Slim\\DeferredCallable->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Slim\\Route))\n#29 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(70): call_user_func(Object(Slim\\DeferredCallable), Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Slim\\Route))\n#30 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(117): Slim\\Route->Slim\\{closure}(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#31 /var/www/html/vendor/slim/slim/Slim/Route.php(313): Slim\\Route->callMiddlewareStack(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#32 /var/www/html/vendor/slim/slim/Slim/App.php(513): Slim\\Route->run(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#33 /var/www/html/vendor/oscarotero/psr7-middlewares/src/Middleware/TrailingSlash.php(63): Slim\\App->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#34 [internal function]: Psr7Middlewares\\Middleware\\TrailingSlash->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Slim\\App))\n#35 /var/www/html/vendor/slim/slim/Slim/DeferredCallable.php(43): call_user_func_array(Object(Psr7Middlewares\\Middleware\\TrailingSlash), Array)\n#36 [internal function]: Slim\\DeferredCallable->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Slim\\App))\n#37 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(70): call_user_func(Object(Slim\\DeferredCallable), Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Slim\\App))\n#38 /var/www/html/vendor/tuupola/slim-basic-auth/src/HttpBasicAuthentication.php(87): Slim\\App->Slim\\{closure}(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#39 [internal function]: Slim\\Middleware\\HttpBasicAuthentication->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#40 /var/www/html/vendor/slim/slim/Slim/DeferredCallable.php(43): call_user_func_array(Object(Slim\\Middleware\\HttpBasicAuthentication), Array)\n#41 [internal function]: Slim\\DeferredCallable->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#42 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(70): call_user_func(Object(Slim\\DeferredCallable), Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#43 /var/www/html/vendor/tuupola/slim-jwt-auth/src/JwtAuthentication.php(145): Slim\\App->Slim\\{closure}(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#44 [internal function]: Slim\\Middleware\\JwtAuthentication->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#45 /var/www/html/vendor/slim/slim/Slim/DeferredCallable.php(43): call_user_func_array(Object(Slim\\Middleware\\JwtAuthentication), Array)\n#46 [internal function]: Slim\\DeferredCallable->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#47 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(70): call_user_func(Object(Slim\\DeferredCallable), Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#48 /var/www/html/vendor/akrabat/rka-scheme-and-host-detection-middleware/src/SchemeAndHost.php(54): Slim\\App->Slim\\{closure}(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#49 [internal function]: RKA\\Middleware\\SchemeAndHost->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#50 /var/www/html/vendor/slim/slim/Slim/DeferredCallable.php(43): call_user_func_array(Object(RKA\\Middleware\\SchemeAndHost), Array)\n#51 [internal function]: Slim\\DeferredCallable->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#52 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(70): call_user_func(Object(Slim\\DeferredCallable), Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#53 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(117): Slim\\App->Slim\\{closure}(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#54 /var/www/html/vendor/slim/slim/Slim/App.php(406): Slim\\App->callMiddlewareStack(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#55 /var/www/html/vendor/slim/slim/Slim/App.php(314): Slim\\App->process(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#56 /var/www/html/Application/Books/Http/public/index.php(13): Slim\\App->run()\n#57 {main}"} []
[2018-09-17 13:59:11] books-microservice.INFO: Start handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-17 13:59:11] books-microservice.ERROR: An error occurred while trying to handling a command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"},"error":"Call to a member function publish() on null","exception_class":"Error","trace":"#0 /var/www/html/Application/Books/Handlers/BookHandler.php(37): Domain\\Services\\BooksService->save(Object(Application\\Books\\Commands\\BookCreate))\n#1 /var/www/html/Infrastructure/Container/ServiceBus/SimpleCommandHandler.php(28): Application\\Books\\Handlers\\BookHandler->handleBookCreate(Object(Application\\Books\\Commands\\BookCreate))\n#2 /var/www/html/vendor/broadway/broadway/src/Broadway/CommandHandling/SimpleCommandBus.php(46): Infrastructure\\Container\\ServiceBus\\SimpleCommandHandler->handle(Object(Application\\Books\\Commands\\BookCreate))\n#3 /var/www/html/Infrastructure/Container/ServiceBus/Adapter/BroadwayCommandBus.php(36): Broadway\\CommandHandling\\SimpleCommandBus->dispatch(Object(Application\\Books\\Commands\\BookCreate))\n#4 /var/www/html/Infrastructure/Container/ServiceBus/Adapter/BroadwayCommandBusMiddleware.php(19): Infrastructure\\Container\\ServiceBus\\Adapter\\BroadwayCommandBus->dispatch(Object(Application\\Books\\Commands\\BookCreate))\n#5 /var/www/html/Infrastructure/Container/ServiceBus/CommandBus/CommandBusSupportingMiddleware.php(83): Infrastructure\\Container\\ServiceBus\\Adapter\\BroadwayCommandBusMiddleware->handle(Object(Application\\Books\\Commands\\BookCreate), Object(Closure))\n#6 /var/www/html/Infrastructure/Container/Middleware/LogCommandsMiddleware.php(31): Infrastructure\\Container\\ServiceBus\\CommandBus\\CommandBusSupportingMiddleware->Infrastructure\\Container\\ServiceBus\\CommandBus\\{closure}(Object(Application\\Books\\Commands\\BookCreate))\n#7 /var/www/html/Infrastructure/Container/ServiceBus/CommandBus/CommandBusSupportingMiddleware.php(83): Infrastructure\\Container\\Middleware\\LogCommandsMiddleware->handle(Object(Application\\Books\\Commands\\BookCreate), Object(Closure))\n#8 [internal function]: Infrastructure\\Container\\ServiceBus\\CommandBus\\CommandBusSupportingMiddleware->Infrastructure\\Container\\ServiceBus\\CommandBus\\{closure}(Object(Application\\Books\\Commands\\BookCreate))\n#9 /var/www/html/Infrastructure/Container/ServiceBus/CommandBus/CommandBusSupportingMiddleware.php(65): call_user_func(Object(Closure), Object(Application\\Books\\Commands\\BookCreate))\n#10 /var/www/html/Application/Books/Http/Actions/BookCreate.php(29): Infrastructure\\Container\\ServiceBus\\CommandBus\\CommandBusSupportingMiddleware->dispatch(Object(Application\\Books\\Commands\\BookCreate))\n#11 /var/www/html/Infrastructure/Container/Factory/Actions/BaseActionFactory.php(52): Application\\Books\\Http\\Actions\\BookCreate->process(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Array)\n#12 [internal function]: Infrastructure\\Container\\Factory\\Actions\\BaseActionFactory->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Array)\n#13 /var/www/html/vendor/slim/slim/Slim/Handlers/Strategies/RequestResponse.php(41): call_user_func(Array, Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Array)\n#14 /var/www/html/vendor/slim/slim/Slim/Route.php(335): Slim\\Handlers\\Strategies\\RequestResponse->__invoke(Array, Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Array)\n#15 /var/www/html/Infrastructure/Container/Middleware/JsonGuardMiddleware.php(44): Slim\\Route->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#16 [internal function]: Infrastructure\\Container\\Middleware\\JsonGuardMiddleware->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Slim\\Route))\n#17 /var/www/html/vendor/slim/slim/Slim/DeferredCallable.php(43): call_user_func_array(Object(Infrastructure\\Container\\Middleware\\JsonGuardMiddleware), Array)\n#18 [internal function]: Slim\\DeferredCallable->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Slim\\Route))\n#19 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(70): call_user_func(Object(Slim\\DeferredCallable), Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Slim\\Route))\n#20 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(117): Slim\\Route->Slim\\{closure}(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#21 /var/www/html/vendor/slim/slim/Slim/Route.php(313): Slim\\Route->callMiddlewareStack(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#22 /var/www/html/vendor/slim/slim/Slim/App.php(513): Slim\\Route->run(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#23 /var/www/html/vendor/oscarotero/psr7-middlewares/src/Middleware/TrailingSlash.php(63): Slim\\App->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#24 [internal function]: Psr7Middlewares\\Middleware\\TrailingSlash->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Slim\\App))\n#25 /var/www/html/vendor/slim/slim/Slim/DeferredCallable.php(43): call_user_func_array(Object(Psr7Middlewares\\Middleware\\TrailingSlash), Array)\n#26 [internal function]: Slim\\DeferredCallable->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Slim\\App))\n#27 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(70): call_user_func(Object(Slim\\DeferredCallable), Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Slim\\App))\n#28 /var/www/html/vendor/tuupola/slim-basic-auth/src/HttpBasicAuthentication.php(87): Slim\\App->Slim\\{closure}(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#29 [internal function]: Slim\\Middleware\\HttpBasicAuthentication->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#30 /var/www/html/vendor/slim/slim/Slim/DeferredCallable.php(43): call_user_func_array(Object(Slim\\Middleware\\HttpBasicAuthentication), Array)\n#31 [internal function]: Slim\\DeferredCallable->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#32 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(70): call_user_func(Object(Slim\\DeferredCallable), Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#33 /var/www/html/vendor/tuupola/slim-jwt-auth/src/JwtAuthentication.php(145): Slim\\App->Slim\\{closure}(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#34 [internal function]: Slim\\Middleware\\JwtAuthentication->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#35 /var/www/html/vendor/slim/slim/Slim/DeferredCallable.php(43): call_user_func_array(Object(Slim\\Middleware\\JwtAuthentication), Array)\n#36 [internal function]: Slim\\DeferredCallable->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#37 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(70): call_user_func(Object(Slim\\DeferredCallable), Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#38 /var/www/html/vendor/akrabat/rka-scheme-and-host-detection-middleware/src/SchemeAndHost.php(54): Slim\\App->Slim\\{closure}(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#39 [internal function]: RKA\\Middleware\\SchemeAndHost->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#40 /var/www/html/vendor/slim/slim/Slim/DeferredCallable.php(43): call_user_func_array(Object(RKA\\Middleware\\SchemeAndHost), Array)\n#41 [internal function]: Slim\\DeferredCallable->__invoke(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#42 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(70): call_user_func(Object(Slim\\DeferredCallable), Object(Slim\\Http\\Request), Object(Slim\\Http\\Response), Object(Closure))\n#43 /var/www/html/vendor/slim/slim/Slim/MiddlewareAwareTrait.php(117): Slim\\App->Slim\\{closure}(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#44 /var/www/html/vendor/slim/slim/Slim/App.php(406): Slim\\App->callMiddlewareStack(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#45 /var/www/html/vendor/slim/slim/Slim/App.php(314): Slim\\App->process(Object(Slim\\Http\\Request), Object(Slim\\Http\\Response))\n#46 /var/www/html/Application/Books/Http/public/index.php(13): Slim\\App->run()\n#47 {main}"} []
[2018-09-17 13:59:38] books-microservice.INFO: Start handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-17 13:59:38] books-microservice.INFO: Finish handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-17 14:00:00] books-microservice.INFO: Start handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-17 14:00:00] books-microservice.INFO: Finish handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-17 14:06:46] books-microservice.INFO: Start handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-17 14:09:48] books-microservice.INFO: Start handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-17 14:09:48] books-microservice.INFO: Finish handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-17 14:19:45] books-microservice.INFO: Start handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-17 14:19:45] books-microservice.INFO: Finish handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-17 14:21:07] books-microservice.INFO: Start handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"id":null,"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-17 14:21:07] books-microservice.INFO: Finish handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"id":null,"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-17 14:22:40] books-microservice.INFO: Start handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"id":null,"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-17 14:22:40] books-microservice.INFO: Finish handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"id":null,"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-17 14:24:30] books-microservice.INFO: Start handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"id":null,"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-17 14:24:30] books-microservice.INFO: Finish handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"id":null,"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-17 14:24:30] books-microservice.INFO: Start handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"id":null,"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-17 14:24:30] books-microservice.INFO: Finish handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"id":null,"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-17 14:24:31] books-microservice.INFO: Start handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"id":null,"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-17 14:24:31] books-microservice.INFO: Finish handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"id":null,"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-17 14:24:32] books-microservice.INFO: Start handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"id":null,"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-17 14:24:32] books-microservice.INFO: Finish handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"id":null,"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-17 14:24:33] books-microservice.INFO: Start handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"id":null,"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-17 14:24:33] books-microservice.INFO: Finish handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"id":null,"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-17 14:24:34] books-microservice.INFO: Start handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"id":null,"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-17 14:24:34] books-microservice.INFO: Finish handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"id":null,"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-17 14:25:00] books-microservice.INFO: Start handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"id":null,"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-17 14:25:00] books-microservice.INFO: Finish handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"id":null,"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-17 14:27:02] books-microservice.INFO: Start handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"id":null,"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-17 14:27:02] books-microservice.INFO: Finish handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"id":null,"name":"Marcelo","description":"Livro do autor tau que fala babozeira","author":"author"}} []
[2018-09-17 14:28:53] books-microservice.INFO: Start handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"id":null,"name":"Marcelo","author":"author"}} []
[2018-09-17 14:28:53] books-microservice.INFO: Finish handling a Command {"command_class":"Application\\Books\\Commands\\BookCreate","command_name":"Book Create","command_params":{"id":null,"name":"Marcelo","author":"author"}} []
